
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
	<title>Cadastro de Consulta</title>
	<script src="resources/js/datetimepicker_css.js"></script>
</h:head>

<h:body onload="loaddatepicker();">
	<h1>Cadastro de Consulta</h1>
	<h:form id="consultaAgendadaEditForm">

		<h:messages />

		<h:inputHidden value="#{consultaAgendadaBean.consultaAgendada.id}" />

		<h:panelGrid columns="2">

			<h:outputLabel value="Data da Consulta: " for="dataConsulta" />
			<h:panelGrid columns="2">
				<h:inputText id="consultaAgendada_dataConsulta"
					label="DataConsulta"
					value="#{consultaAgendadaBean.consultaAgendada.dataConsulta}"
					size="45" required="true"
					requiredMessage="Digite a data e o horario">
					<f:convertDateTime pattern="dd-MM-yyyy HH:mm" timeZone="GMT-3" type="date" />
				</h:inputText>
				<img src="resources/img/cal.gif" alt="" onclick="javascript:NewCssCal('consultaAgendadaEditForm:consultaAgendada_dataConsulta','ddMMyyyy','arrow',true,'24')" style="cursor:pointer"></img>
			</h:panelGrid>
			
			<h:outputLabel value="Medico:" for="consulta_medico" />

			<h:selectOneListbox layout="pageDirection" id="consulta_medico"
				value="#{consultaAgendadaBean.medicoId}" required="true">
				<c:forEach var="medico" items="#{medicoBean.list}">
					<f:selectItem itemLabel="#{medico.nome}" itemValue="#{medico.id}" />
				</c:forEach>
			</h:selectOneListbox>

			<h:outputLabel value="Paciente:" for="consulta_paciente" />

			<h:selectOneListbox layout="pageDirection" id="consulta_paciente"
				value="#{consultaAgendadaBean.pacienteId}" required="true">
				<c:forEach var="paciente" items="#{pacienteBean.list}">
					<f:selectItem itemLabel="#{paciente.nome}"
						itemValue="#{paciente.id}" />
				</c:forEach>
			</h:selectOneListbox>

				<h:outputLabel value="Status:" />
				<h:selectOneRadio layout="pageDirection"
					id="consultaAgendada_status"
					value="#{consultaAgendadaBean.consultaAgendada.status}">
					<f:selectItem id="criada" itemLabel="Criada" itemValue="CRIADA" />
					<f:selectItem id="confirmada" itemLabel="Confirmada"
						itemValue="CONFIRMADA" />
				</h:selectOneRadio>

		</h:panelGrid>

		<h:commandButton action="#{consultaAgendadaBean.save}" value="Salvar" />


	</h:form>
	<form><input type="button" value="Voltar" onclick="history.go(-1)"></input></form>
</h:body>

</html>